-- Dropbox Seed Data
-- Password for all users: password123
-- Hash: $2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom

-- Users
INSERT INTO users (id, email, password_hash, name, role, quota_bytes, used_bytes) VALUES
  ('11111111-1111-1111-1111-111111111111', 'alice@example.com', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', 'Alice Johnson', 'user', 2147483648, 524288000),
  ('22222222-2222-2222-2222-222222222222', 'bob@example.com', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', 'Bob Smith', 'user', 2147483648, 1073741824),
  ('33333333-3333-3333-3333-333333333333', 'carol@example.com', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', 'Carol Williams', 'user', 10737418240, 268435456),
  ('44444444-4444-4444-4444-444444444444', 'david@example.com', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', 'David Chen', 'user', 2147483648, 0),
  ('55555555-5555-5555-5555-555555555555', 'admin@dropbox.local', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', 'Admin User', 'admin', 107374182400, 5368709120)
ON CONFLICT (email) DO NOTHING;

-- Folders and Files for Alice
-- Root folders
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('aaaa1111-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', NULL, 'Documents', true, 0, NULL, NULL, 1, 'synced'),
  ('aaaa1111-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', NULL, 'Photos', true, 0, NULL, NULL, 1, 'synced'),
  ('aaaa1111-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', NULL, 'Projects', true, 0, NULL, NULL, 1, 'synced'),
  ('aaaa1111-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', NULL, 'Shared with me', true, 0, NULL, NULL, 1, 'synced')
ON CONFLICT DO NOTHING;

-- Subfolders in Documents
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('aaaa1111-0002-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000001', 'Work', true, 0, NULL, NULL, 1, 'synced'),
  ('aaaa1111-0002-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000001', 'Personal', true, 0, NULL, NULL, 1, 'synced'),
  ('aaaa1111-0002-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000001', 'Taxes 2024', true, 0, NULL, NULL, 1, 'synced')
ON CONFLICT DO NOTHING;

-- Files in Documents/Work
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('aaaa1111-0003-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0002-0001-0001-000000000001', 'Q4_Report.pdf', false, 2456789, 'application/pdf', 'abc123def456789012345678901234567890123456789012345678901234abcd', 3, 'synced'),
  ('aaaa1111-0003-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0002-0001-0001-000000000001', 'Meeting_Notes.docx', false, 45678, 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'bcd234efg567890123456789012345678901234567890123456789012345bcde', 5, 'synced'),
  ('aaaa1111-0003-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0002-0001-0001-000000000001', 'Budget_2024.xlsx', false, 156789, 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'cde345fgh678901234567890123456789012345678901234567890123456cdef', 2, 'synced'),
  ('aaaa1111-0003-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0002-0001-0001-000000000001', 'Presentation.pptx', false, 5678901, 'application/vnd.openxmlformats-officedocument.presentationml.presentation', 'def456ghi789012345678901234567890123456789012345678901234567defg', 1, 'synced')
ON CONFLICT DO NOTHING;

-- Files in Photos
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('aaaa1111-0003-0002-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000002', 'vacation_beach.jpg', false, 3456789, 'image/jpeg', 'efg567hij890123456789012345678901234567890123456789012345678efgh', 1, 'synced'),
  ('aaaa1111-0003-0002-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000002', 'family_dinner.jpg', false, 4567890, 'image/jpeg', 'fgh678ijk901234567890123456789012345678901234567890123456789fghi', 1, 'synced'),
  ('aaaa1111-0003-0002-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000002', 'sunset_mountain.png', false, 8901234, 'image/png', 'ghi789jkl012345678901234567890123456789012345678901234567890ghij', 1, 'synced'),
  ('aaaa1111-0003-0002-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'aaaa1111-0001-0001-0001-000000000002', 'birthday_party.mp4', false, 156789012, 'video/mp4', 'hij890klm123456789012345678901234567890123456789012345678901hijk', 1, 'synced')
ON CONFLICT DO NOTHING;

-- Folders and Files for Bob
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('bbbb2222-0001-0001-0001-000000000001', '22222222-2222-2222-2222-222222222222', NULL, 'Code', true, 0, NULL, NULL, 1, 'synced'),
  ('bbbb2222-0001-0001-0001-000000000002', '22222222-2222-2222-2222-222222222222', NULL, 'Design Assets', true, 0, NULL, NULL, 1, 'synced'),
  ('bbbb2222-0001-0001-0001-000000000003', '22222222-2222-2222-2222-222222222222', NULL, 'Client Projects', true, 0, NULL, NULL, 1, 'synced')
ON CONFLICT DO NOTHING;

-- Files in Bob's Code folder
INSERT INTO files (id, user_id, parent_id, name, is_folder, size, mime_type, content_hash, version, sync_status) VALUES
  ('bbbb2222-0002-0001-0001-000000000001', '22222222-2222-2222-2222-222222222222', 'bbbb2222-0001-0001-0001-000000000001', 'app.js', false, 12345, 'application/javascript', 'ijk901lmn234567890123456789012345678901234567890123456789012ijkl', 8, 'synced'),
  ('bbbb2222-0002-0001-0001-000000000002', '22222222-2222-2222-2222-222222222222', 'bbbb2222-0001-0001-0001-000000000001', 'styles.css', false, 8901, 'text/css', 'jkl012mno345678901234567890123456789012345678901234567890123jklm', 4, 'synced'),
  ('bbbb2222-0002-0001-0001-000000000003', '22222222-2222-2222-2222-222222222222', 'bbbb2222-0001-0001-0001-000000000001', 'README.md', false, 2345, 'text/markdown', 'klm123nop456789012345678901234567890123456789012345678901234klmn', 2, 'synced')
ON CONFLICT DO NOTHING;

-- File versions for Q4_Report.pdf (showing version history)
INSERT INTO file_versions (id, file_id, version, size, content_hash, created_by) VALUES
  ('vvvv1111-0001-0001-0001-000000000001', 'aaaa1111-0003-0001-0001-000000000001', 1, 2100000, 'ver1_abc123def456789012345678901234567890123456789012345678abcd', '11111111-1111-1111-1111-111111111111'),
  ('vvvv1111-0001-0001-0001-000000000002', 'aaaa1111-0003-0001-0001-000000000001', 2, 2350000, 'ver2_bcd234efg567890123456789012345678901234567890123456789bcde', '11111111-1111-1111-1111-111111111111'),
  ('vvvv1111-0001-0001-0001-000000000003', 'aaaa1111-0003-0001-0001-000000000001', 3, 2456789, 'abc123def456789012345678901234567890123456789012345678901234abcd', '11111111-1111-1111-1111-111111111111')
ON CONFLICT DO NOTHING;

-- Shared links
INSERT INTO shared_links (id, file_id, created_by, url_token, password_hash, expires_at, download_count, max_downloads, access_level) VALUES
  ('ssss1111-0001-0001-0001-000000000001', 'aaaa1111-0003-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'sh4r3d_q4_r3p0rt_2024', NULL, NOW() + INTERVAL '30 days', 5, 100, 'download'),
  ('ssss1111-0001-0001-0001-000000000002', 'aaaa1111-0003-0002-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'v4c4t10n_ph0t0_sh4r3', NULL, NOW() + INTERVAL '7 days', 12, NULL, 'view'),
  ('ssss1111-0001-0001-0001-000000000003', 'bbbb2222-0002-0001-0001-000000000001', '22222222-2222-2222-2222-222222222222', 'c0d3_sh4r3_4pp_js', '$2b$10$KvyL.xiSRBiXVY1iP4L7B.vghE/SDLNJX2gHIOjaS707KBZnUcIom', NOW() + INTERVAL '14 days', 0, 10, 'download')
ON CONFLICT DO NOTHING;

-- Folder shares (sharing with specific users)
INSERT INTO folder_shares (id, folder_id, shared_with, access_level) VALUES
  ('fshr1111-0001-0001-0001-000000000001', 'aaaa1111-0001-0001-0001-000000000003', '22222222-2222-2222-2222-222222222222', 'edit'),
  ('fshr1111-0001-0001-0001-000000000002', 'aaaa1111-0002-0001-0001-000000000001', '33333333-3333-3333-3333-333333333333', 'view'),
  ('fshr1111-0001-0001-0001-000000000003', 'bbbb2222-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'view'),
  ('fshr1111-0001-0001-0001-000000000004', 'bbbb2222-0001-0001-0001-000000000003', '33333333-3333-3333-3333-333333333333', 'edit')
ON CONFLICT DO NOTHING;

-- Sample chunks (for deduplication demonstration)
INSERT INTO chunks (hash, size, storage_key, reference_count) VALUES
  ('chunk_abc123def456789012345678901234567890123456789012', 4194304, 'chunks/ab/c1/abc123def456789012345678901234567890123456789012', 3),
  ('chunk_bcd234efg567890123456789012345678901234567890123', 4194304, 'chunks/bc/d2/bcd234efg567890123456789012345678901234567890123', 2),
  ('chunk_cde345fgh678901234567890123456789012345678901234', 2456789, 'chunks/cd/e3/cde345fgh678901234567890123456789012345678901234', 1),
  ('chunk_def456ghi789012345678901234567890123456789012345', 4194304, 'chunks/de/f4/def456ghi789012345678901234567890123456789012345', 5)
ON CONFLICT DO NOTHING;
